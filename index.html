<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Atmosfera Creator Roblox</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
body{background:#121212;color:#e0e0e0;display:flex;justify-content:center;align-items:flex-start;padding:20px;}
main{max-width:500px;width:100%;background:#1f1f1f;border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.5);}
h1{color:#39ff14;margin-bottom:10px;font-size:1.8em;text-align:center;}
p.description{font-size:0.9em;margin-bottom:20px;color:#ccc;}
section{margin-bottom:20px;}
label{display:block;margin-bottom:5px;font-weight:bold;}
input[type="text"],input[type="number"],input[type="color"]{width:100%;padding:8px 10px;border-radius:6px;border:none;margin-bottom:10px;}
.checkbox-group{margin:10px 0;}
.checkbox-group label{font-weight:normal;display:flex;align-items:center;gap:8px;}
button{background-color:#39ff14;color:#121212;font-weight:bold;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;width:100%;margin-top:10px;}
button:hover{background-color:#2cd600;}
textarea{width:100%;height:180px;margin-top:10px;padding:10px;border-radius:6px;border:none;background-color:#2a2a2a;color:#e0e0e0;resize:none;font-family:monospace;}
.copiar{margin-top:5px;background-color:#444;color:#fff;font-size:0.9em;border:none;padding:8px 10px;border-radius:6px;cursor:pointer;}
.copiar:hover{background-color:#666;}
</style>
</head>
<body>
<main>
<h1>Atmosfera Creator Roblox</h1>
<p class="description">Use este gerador para criar scripts de TÃ­tulo & DescriÃ§Ã£o e/ou Atmosfera de Fundo no Roblox Studio.</p>

<section>
<label for="nome">Nome da part (Ã¡rea)</label>
<input type="text" id="nome" placeholder="part123">
</section>

<section>
<label>TÃ­tulo & DescriÃ§Ã£o</label>
<div class="checkbox-group">
<label><input type="checkbox" id="tituloCheckbox" checked> TÃ­tulo & DescriÃ§Ã£o</label>
</div>
<label for="titulo">TÃ­tulo</label>
<input type="text" id="titulo" placeholder="FLOREST" value="FLOREST">
<label for="corTitulo">Cor do tÃ­tulo</label>
<input type="color" id="corTitulo" value="#00ff00">
<label for="descricao">DescriÃ§Ã£o</label>
<input type="text" id="descricao" placeholder="Ã¡rea verdejante" value="Ã¡rea arejada">
<label for="tempo">Tempo na tela (segundos)</label>
<input type="number" id="tempo" placeholder="2.3" step="0.1" value="2.3">
</section>

<section>
<label>Atmosfera de Fundo</label>
<div class="checkbox-group">
<label><input type="checkbox" id="fundoCheckbox" checked> Atmosfera de fundo</label>
</div>
<label for="corFundo">Cor da atmosfera</label>
<input type="color" id="corFundo" value="#00ff00">
</section>

<button id="gerar">â˜… Gerar â˜…</button>
<textarea id="resultado" placeholder="-- seu script vai aparecer aqui" readonly></textarea>
<button class="copiar" id="copiarBtn">ðŸ“‹ Copiar</button>
</main>

<script>
function color3FromHex(hex){
    const r = parseInt(hex.substr(1,2),16);
    const g = parseInt(hex.substr(3,2),16);
    const b = parseInt(hex.substr(5,2),16);
    return `${r}, ${g}, ${b}`;
}

document.getElementById('gerar').addEventListener('click', ()=>{
    const nome = document.getElementById('nome').value || "part123";
    const tituloCheck = document.getElementById('tituloCheckbox').checked;
    const fundoCheck = document.getElementById('fundoCheckbox').checked;

    if(!tituloCheck && !fundoCheck){
        alert("Hey! precisa ter pelo menos 1 dos 2 elementos no script");
        return;
    }

    const titulo = document.getElementById('titulo').value || "FLOREST";
    const corTitulo = document.getElementById('corTitulo').value || "#00ff00";
    const descricao = document.getElementById('descricao').value || "Ã¡rea arejada";
    const tempo = parseFloat(document.getElementById('tempo').value) || 2.3;
    const corFundo = document.getElementById('corFundo').value || "#00ff00";

    let script = `local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local part = workspace:WaitForChild("${nome}")

local inside = false
local textRunning = false
local forceExitText = false
`;

    if(fundoCheck){
        script += `
local atmosphereGui
local overlay

local function createAtmosphere()
	if atmosphereGui then return end
	atmosphereGui = Instance.new("ScreenGui")
	atmosphereGui.IgnoreGuiInset = true
	atmosphereGui.ResetOnSpawn = false
	atmosphereGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	atmosphereGui.Parent = player.PlayerGui

	overlay = Instance.new("Frame")
	overlay.Size = UDim2.new(1,0,1,0)
	overlay.Position = UDim2.new(0,0,0,0)
	overlay.BackgroundColor3 = Color3.fromRGB(${color3FromHex(corFundo)})
	overlay.BackgroundTransparency = 1
	overlay.BorderSizePixel = 0
	overlay.Parent = atmosphereGui

	TweenService:Create(
		overlay,
		TweenInfo.new(0.5,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
		{BackgroundTransparency=0.95}
	):Play()
end

local function removeAtmosphere()
	if not atmosphereGui then return end
	local tween = TweenService:Create(
		overlay,
		TweenInfo.new(0.5,Enum.EasingStyle.Quad,Enum.EasingDirection.In),
		{BackgroundTransparency=1}
	)
	tween:Play()
	tween.Completed:Wait()
	atmosphereGui:Destroy()
	atmosphereGui=nil
	overlay=nil
end
`;
    }

    if(tituloCheck){
        script += `
local function showAreaText()
	if textRunning then return end
	textRunning = true
	forceExitText = false

	local gui = Instance.new("ScreenGui")
	gui.ResetOnSpawn=false
	gui.Parent=player.PlayerGui

	local title = Instance.new("TextLabel")
	title.Size=UDim2.fromScale(1,0.08)
	title.Position=UDim2.fromScale(0,-0.25)
	title.BackgroundTransparency=1
	title.TextTransparency=1
	title.Text="${titulo}"
	title.TextScaled=true
	title.Font=Enum.Font.GothamBlack
	title.TextColor3=Color3.fromRGB(${color3FromHex(corTitulo)})
	title.Parent=gui

	local subtitle = Instance.new("TextLabel")
	subtitle.Size=UDim2.fromScale(1,0.045)
	subtitle.Position=UDim2.fromScale(0,-0.15)
	subtitle.BackgroundTransparency=1
	subtitle.TextTransparency=1
	subtitle.Text="${descricao}"
	subtitle.TextScaled=true
	subtitle.Font=Enum.Font.Gotham
	subtitle.TextColor3=Color3.fromRGB(255,255,255)
	subtitle.Parent=gui

	local fadeIn = TweenInfo.new(0.45,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)
	TweenService:Create(title,fadeIn,{Position=UDim2.fromScale(0,0.03),TextTransparency=0}):Play()
	TweenService:Create(subtitle,fadeIn,{Position=UDim2.fromScale(0,0.1),TextTransparency=0}):Play()

	local elapsed=0
	while elapsed<${tempo} do
		if forceExitText then break end
		elapsed+=RunService.Heartbeat:Wait()
	end

	local fadeOut = TweenInfo.new(0.45,Enum.EasingStyle.Quad,Enum.EasingDirection.In)
	TweenService:Create(title,fadeOut,{Position=UDim2.fromScale(0,-0.25),TextTransparency=1}):Play()
	TweenService:Create(subtitle,fadeOut,{Position=UDim2.fromScale(0,-0.15),TextTransparency=1}):Play()

	task.wait(0.5)
	gui:Destroy()
	textRunning=false
end
`;
    }

    script += `
RunService.Heartbeat:Connect(function()
	local character = player.Character
	if not character then return end
	local hrp = character:FindFirstChild("HumanoidRootPart")
	if not hrp then return end
	local relative = part.CFrame:PointToObjectSpace(hrp.Position)
	local size = part.Size/2
	local isInside = math.abs(relative.X)<=size.X and math.abs(relative.Y)<=size.Y and math.abs(relative.Z)<=size.Z

	if isInside and not inside then
		inside=true
		${fundoCheck?"createAtmosphere()":""}
		${tituloCheck?"showAreaText()":""}
	elseif not isInside and inside then
		inside=false
		forceExitText=true
		${fundoCheck?"removeAtmosphere()":""}
	end
end)
`;

    document.getElementById('resultado').value = script;
});

// BotÃ£o copiar universal
document.getElementById('copiarBtn').addEventListener('click', ()=>{
    const texto = document.getElementById('resultado').value;
    const temp = document.createElement('textarea');
    temp.value = texto;
    temp.style.position = 'absolute';
    temp.style.left = '-9999px';
    document.body.appendChild(temp);
    temp.select();
    temp.setSelectionRange(0, 999999);
    let success = false;
    try{
        success = document.execCommand('copy');
    }catch(e){ success=false; }
    document.body.removeChild(temp);

    const btn = document.getElementById('copiarBtn');
    if(success){
        btn.textContent = "âœ” Copiado!";
        btn.style.backgroundColor="#39ff14";
        btn.style.color="#121212";
        setTimeout(()=>{
            btn.textContent="ðŸ“‹ Copiar";
            btn.style.backgroundColor="#444";
            btn.style.color="#fff";
        },1500);
    }else{
        alert("NÃ£o foi possÃ­vel copiar automaticamente. Copie manualmente.");
    }
});
</script>
</body>
</html>
